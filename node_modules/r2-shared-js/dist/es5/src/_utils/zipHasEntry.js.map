{"version":3,"file":"zipHasEntry.js","sourceRoot":"","sources":["../../../../src/_utils/zipHasEntry.ts"],"names":[],"mappings":";;AAaA,kCA0BC;;AAhCD,8BAAgC;AAIhC,IAAM,KAAK,GAAG,MAAM,CAAC,6BAA6B,CAAC,CAAC;AAEpD,SAAsB,WAAW,CAAC,GAAS,EAAE,OAAe,EAAE,YAAgC;;;;;;oBACtF,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;yBAE3B,GAAW,CAAC,aAAa,EAA1B,cAA0B;;;;oBAGhB,WAAO,GAAW,CAAC,aAAa,CAAC,OAAO,CAAC,EAAA;;oBAA/C,GAAG,GAAG,SAAyC,CAAC;;;;oBAEhD,OAAO,CAAC,GAAG,CAAC,KAAG,CAAC,CAAC;;;yBAGrB,CAAA,CAAC,GAAG,IAAI,YAAY,IAAI,YAAY,KAAK,OAAO,CAAA,EAAhD,cAAgD;oBAChD,KAAK,CAAC,uBAAgB,OAAO,iBAAO,YAAY,CAAE,CAAC,CAAC;oBAEpD,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;yBAE5B,GAAW,CAAC,aAAa,EAA1B,cAA0B;;;;oBAGhB,WAAO,GAAW,CAAC,aAAa,CAAC,YAAY,CAAC,EAAA;;oBAApD,GAAG,GAAG,SAA8C,CAAC;;;;oBAErD,OAAO,CAAC,GAAG,CAAC,KAAG,CAAC,CAAC;;wBAI7B,WAAO,GAAG,EAAC;;;;CACd","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\nimport * as debug_ from \"debug\";\n\nimport { IZip } from \"@r2-utils-js/_utils/zip/zip\";\n\nconst debug = debug_(\"r2:shared#utils/zipHasEntry\");\n\nexport async function zipHasEntry(zip: IZip, zipPath: string, zipPathOther: string | undefined): Promise<boolean> {\n    let has = zip.hasEntry(zipPath);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if ((zip as any).hasEntryAsync) { // hacky!!! (HTTP fetch)\n        try {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            has = await (zip as any).hasEntryAsync(zipPath);\n        } catch (err) {\n            console.log(err);\n        }\n    }\n    if (!has && zipPathOther && zipPathOther !== zipPath) {\n        debug(`zipHasEntry: ${zipPath} => ${zipPathOther}`);\n\n        has = zip.hasEntry(zipPathOther);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if ((zip as any).hasEntryAsync) { // hacky!!! (HTTP fetch)\n            try {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                has = await (zip as any).hasEntryAsync(zipPathOther);\n            } catch (err) {\n                console.log(err);\n            }\n        }\n    }\n    return has;\n}\n"]}