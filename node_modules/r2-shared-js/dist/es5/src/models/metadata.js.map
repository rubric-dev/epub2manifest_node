{"version":3,"file":"metadata.js","sourceRoot":"","sources":["../../../../src/models/metadata.ts"],"names":[],"mappings":"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","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\n// https://github.com/edcarroll/ta-json\nimport {\n    JsonConverter, JsonElementType, JsonObject, JsonProperty, OnDeserialized,\n} from \"ta-json-x\";\n\nimport { IWithAdditionalJSON, JsonMap } from \"@r2-lcp-js/serializable\";\nimport { JsonStringConverter } from \"@r2-utils-js/_utils/ta-json-string-converter\";\n\nimport { BelongsTo } from \"./metadata-belongsto\";\nimport { Contributor } from \"./metadata-contributor\";\nimport { JsonContributorConverter } from \"./metadata-contributor-json-converter\";\nimport { MediaOverlay } from \"./metadata-media-overlay\";\nimport { IStringMap } from \"./metadata-multilang\";\nimport { Properties } from \"./metadata-properties\";\nimport { Subject } from \"./metadata-subject\";\nimport { JsonSubjectConverter } from \"./metadata-subject-json-converter\";\nimport { AccessibilityMetadata } from \"./metadata-accessibility\";\n\n// export interface IMeta {\n//     property: string;\n//     value: string;\n//     children: IMeta[];\n// }\n\nexport enum DirectionEnum {\n    Auto = \"auto\",\n    RTL = \"rtl\",\n    LTR = \"ltr\",\n}\n\n// [\\n\\s\\S]+?^[ ]+@JsonProperty\\((\"[a-zA-Z]+\")\\)$\n// regexp replace all:\n// $1,\n// package OPF meta tag name or property (does not include dc:title etc. which are elements)\nexport const MetadataSupportedKeys = [\n    \"cover\",\n    \"dtb:totalTime\",\n    \"media:duration\",\n    \"media:narrator\",\n    \"media:active-class\",\n    \"media:playback-active-class\",\n    \"dcterms:modified\",\n    \"dcterms:creator\",\n    \"dcterms:contributor\",\n    \"schema:accessMode\",\n    \"schema:accessibilityFeature\",\n    \"schema:accessibilityHazard\",\n    \"schema:accessibilitySummary\",\n    \"schema:accessModeSufficient\",\n    \"schema:accessibilityAPI\",\n    \"schema:accessibilityControl\",\n    \"a11y:certifiedBy\",\n    \"a11y:certifierCredential\",\n    \"a11y:certifierReport\",\n    \"dcterms:conformsTo\",\n    \"title\",\n    \"subtitle\",\n    \"identifier\",\n    \"author\",\n    \"translator\",\n    \"editor\",\n    \"artist\",\n    \"illustrator\",\n    \"letterer\",\n    \"penciler\",\n    \"colorist\",\n    \"inker\",\n    \"narrator\",\n    \"contributor\",\n    \"publisher\",\n    \"imprint\",\n    \"language\",\n    \"modified\",\n    \"published\",\n    \"sortAs\",\n    \"description\",\n    \"readingProgression\",\n    \"direction\",\n    \"belongsTo\",\n    \"duration\",\n    \"numberOfPages\",\n    \"rights\",\n    \"rendition\",\n    \"source\",\n    \"subject\",\n];\n\n\n// tslint:disable-next-line:max-line-length\n// https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n@JsonObject()\nexport class Metadata implements IWithAdditionalJSON {\n\n    // https://github.com/readium/architecture/issues/94#issuecomment-613965656\n    // https://github.com/JayPanoz/architecture/blob/a11y-metadata-parsing/streamer/parser/a11y-metadata-parsing.md\n    // http://kb.daisy.org/publishing/docs/metadata/schema-org.html\n    // http://kb.daisy.org/publishing/docs/metadata/evaluation.html\n    // https://www.w3.org/wiki/WebSchemas/Accessibility\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/03d7681cf1ff689bad76efaabc9c77423296a94c/schema/metadata.schema.json#L35-L37\n    @JsonProperty(\"accessibility\")\n    public Accessibility!: AccessibilityMetadata;\n\n    // schema:accessMode\n    @JsonProperty(\"accessMode\")\n    @JsonConverter(JsonStringConverter)\n    @JsonElementType(String)\n    public AccessMode!: string[];\n    // 'auditory',\n    // 'tactile',\n    // 'textual',\n    // 'visual',\n    // 'chartOnVisual',\n    // 'chemOnVisual',\n    // 'colorDependent',\n    // 'diagramOnVisual',\n    // 'mathOnVisual',\n    // 'musicOnVisual',\n    // 'textOnVisual',\n\n    // schema:accessibilityFeature\n    @JsonProperty(\"accessibilityFeature\")\n    @JsonConverter(JsonStringConverter)\n    @JsonElementType(String)\n    public AccessibilityFeature!: string[];\n    // 'alternativeText',\n    // 'annotations',\n    // 'audioDescription',\n    // 'bookmarks',\n    // 'braille',\n    // 'captions',\n    // 'ChemML',\n    // 'describedMath',\n    // 'displayTransformability',\n    // 'displayTransformability/font-size',\n    // 'displayTransformability/font-family',\n    // 'displayTransformability/line-height',\n    // 'displayTransformability/word-spacing',\n    // 'displayTransformability/letter-spacing',\n    // 'displayTransformability/color',\n    // 'displayTransformability/background-color',\n    // 'highContrastAudio',\n    // 'highContrastAudio/noBackground',\n    // 'highContrastAudio/reducedBackground',\n    // 'highContrastAudio/switchableBackground',\n    // 'highContrastDisplay',\n    // 'index',\n    // 'largePrint',\n    // 'latex',\n    // 'longDescription',\n    // 'MathML',\n    // 'none',\n    // 'printPageNumbers', 'pageBreakMarkers', 'pageNavigation'\n    // 'readingOrder',\n    // 'rubyAnnotations',\n    // 'signLanguage',\n    // 'structuralNavigation',\n    // 'synchronizedAudioText',\n    // 'tableOfContents',\n    // 'taggedPDF',\n    // 'tactileGraphic',\n    // 'tactileObject',\n    // 'timingControl',\n    // 'transcript',\n    // 'ttsMarkup',\n    // 'unlocked',\n\n    // schema:accessibilityHazard\n    @JsonProperty(\"accessibilityHazard\")\n    @JsonConverter(JsonStringConverter)\n    @JsonElementType(String)\n    public AccessibilityHazard!: string[];\n    // 'flashing',\n    // 'noFlashingHazard',\n    // 'motionSimulation',\n    // 'noMotionSimulationHazard',\n    // 'sound',\n    // 'noSoundHazard',\n    // 'unknown',\n    // 'none',\n\n    // schema:accessibilitySummary\n    @JsonProperty(\"accessibilitySummary\")\n    public AccessibilitySummary!: string | IStringMap;\n\n    // schema:accessModeSufficient\n    // NOTE: the only field that accepts comma-separated values from the enumeration,\n    // but this model breaks down the original string into individual tokens.\n    @JsonProperty(\"accessModeSufficient\")\n    @JsonElementType(Array)\n    public AccessModeSufficient!: (string[])[];\n    // 'auditory',\n    // 'tactile',\n    // 'textual',\n    // 'visual',\n    // 'chartOnVisual',\n    // 'chemOnVisual',\n    // 'colorDependent',\n    // 'diagramOnVisual',\n    // 'mathOnVisual',\n    // 'musicOnVisual',\n    // 'textOnVisual',\n\n    // schema:accessibilityAPI\n    @JsonProperty(\"accessibilityAPI\")\n    @JsonConverter(JsonStringConverter)\n    @JsonElementType(String)\n    public AccessibilityAPI!: string[];\n    // ARIA etc.\n\n    // schema:accessibilityControl\n    @JsonProperty(\"accessibilityControl\")\n    @JsonConverter(JsonStringConverter)\n    @JsonElementType(String)\n    public AccessibilityControl!: string[];\n    // 'fullKeyboardControl',\n    // 'fullMouseControl',\n    // 'fullSwitchControl',\n    // 'fullTouchControl',\n    // 'fullVideoControl',\n    // 'fullAudioControl',\n    // 'fullVoiceControl',\n\n    // a11y:certifiedBy\n    @JsonProperty(\"certifiedBy\")\n    @JsonConverter(JsonStringConverter)\n    @JsonElementType(String)\n    public CertifiedBy!: string[];\n\n    // a11y:certifierCredential\n    @JsonProperty(\"certifierCredential\")\n    @JsonConverter(JsonStringConverter)\n    @JsonElementType(String)\n    public CertifierCredential!: string[]; // may be link in EPUB3\n\n    // a11y:certifierReport\n    @JsonProperty(\"certifierReport\")\n    @JsonConverter(JsonStringConverter)\n    @JsonElementType(String)\n    public CertifierReport!: string[]; // link in EPUB3\n\n    // dcterms:conformsTo\n    @JsonProperty(\"conformsTo\")\n    @JsonConverter(JsonStringConverter)\n    @JsonElementType(String)\n    public ConformsTo!: string[]; // link in EPUB3, or meta! (https://www.w3.org/TR/epub-a11y-11/)\n    // http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-a\n    // http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aa\n    // http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aaa\n    // EPUB Accessibility 1.1 - WCAG 2.0 Level A\n    // EPUB Accessibility 1.1 - WCAG 2.0 Level AA\n    // EPUB Accessibility 1.1 - WCAG 2.0 Level AAA\n    // EPUB Accessibility 1.1 - WCAG 2.1 Level A\n    // EPUB Accessibility 1.1 - WCAG 2.1 Level AA\n    // EPUB Accessibility 1.1 - WCAG 2.1 Level AAA\n\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L11\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L11\n    @JsonProperty(\"@type\")\n    public RDFType!: string;\n\n    // TODO: array? https://github.com/opds-community/drafts/issues/24\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L15\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L15\n    @JsonProperty(\"title\")\n    // @JsonType(String)\n    // not needed because primitive string union with\n    // simple object type (string keys, string values)\n    public Title!: string | IStringMap; // | string[] | IStringMap[]\n\n    // TODO: array? https://github.com/opds-community/drafts/issues/24\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L33\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L22\n    @JsonProperty(\"subtitle\")\n    public SubTitle!: string | IStringMap;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L7\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L7\n    @JsonProperty(\"identifier\")\n    public Identifier!: string;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L81\n    @JsonProperty(\"author\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Author!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L84\n    @JsonProperty(\"translator\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Translator!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L87\n    @JsonProperty(\"editor\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Editor!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L90\n    @JsonProperty(\"artist\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Artist!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L93\n    @JsonProperty(\"illustrator\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Illustrator!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L96\n    @JsonProperty(\"letterer\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Letterer!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L99\n    @JsonProperty(\"penciler\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Penciler!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L102\n    @JsonProperty(\"colorist\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Colorist!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L105\n    @JsonProperty(\"inker\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Inker!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L108\n    @JsonProperty(\"narrator\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Narrator!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L111\n    @JsonProperty(\"contributor\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Contributor!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L114\n    @JsonProperty(\"publisher\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Publisher!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L117\n    @JsonProperty(\"imprint\")\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Imprint!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L66\n    @JsonProperty(\"language\")\n    @JsonElementType(String)\n    @JsonConverter(JsonStringConverter)\n    public Language!: string[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L51\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L29\n    @JsonProperty(\"modified\")\n    public Modified!: Date;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L55\n    @JsonProperty(\"published\")\n    public PublicationDate!: Date;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L78\n    @JsonProperty(\"sortAs\")\n    public SortAs2!: string;\n    @JsonProperty(\"sort_as\")\n    public SortAs1: string | undefined;\n    get SortAs(): string | undefined {\n        return this.SortAs2 ? this.SortAs2 : this.SortAs1;\n    }\n    set SortAs(sortas: string | undefined) {\n        if (sortas) {\n            this.SortAs1 = undefined;\n            this.SortAs2 = sortas;\n        }\n    }\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L129\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L33\n    @JsonProperty(\"description\")\n    public Description!: string;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L120\n    @JsonProperty(\"readingProgression\")\n    public Direction2!: string;\n    @JsonProperty(\"direction\")\n    public Direction1: string | undefined;\n    get Direction(): string | undefined {\n        return this.Direction2 ? this.Direction2 : this.Direction1;\n    }\n    set Direction(direction: string | undefined) {\n        if (direction) {\n            this.Direction1 = undefined;\n            this.Direction2 = direction;\n        }\n    }\n    // see DirectionEnum\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L140\n    @JsonProperty(\"belongsTo\")\n    public BelongsTo2!: BelongsTo;\n    @JsonProperty(\"belongs_to\")\n    public BelongsTo1: BelongsTo | undefined;\n    get BelongsTo(): BelongsTo | undefined {\n        return this.BelongsTo2 ? this.BelongsTo2 : this.BelongsTo1;\n    }\n    set BelongsTo(belongsto: BelongsTo | undefined) {\n        if (belongsto) {\n            this.BelongsTo1 = undefined;\n            this.BelongsTo2 = belongsto;\n        }\n    }\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L132\n    @JsonProperty(\"duration\")\n    public Duration!: number;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L136\n    @JsonProperty(\"numberOfPages\")\n    public NumberOfPages!: number;\n\n    // public OtherMetadata: IMeta[];\n\n    // TODO: not in JSON Schema\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/tree/master/schema\n    @JsonProperty(\"media-overlay\")\n    public MediaOverlay!: MediaOverlay;\n\n    // TODO: not in JSON Schema??\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n    @JsonProperty(\"rights\")\n    public Rights!: string;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/917c83e798e3eda42b3e9d0dc92f0fef31b16211/schema/extensions/epub/metadata.schema.json#L7\n    @JsonProperty(\"rendition\")\n    public Rendition!: Properties;\n\n    // TODO: not in JSON Schema?? https://github.com/readium/webpub-manifest/issues/14\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n    @JsonProperty(\"source\")\n    public Source!: string;\n\n    // TODO: not in JSON Schema?? https://github.com/readium/webpub-manifest/issues/13\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n    @JsonProperty(\"subject\")\n    @JsonConverter(JsonSubjectConverter)\n    @JsonElementType(Subject)\n    public Subject!: Subject[];\n\n    // see AdditionalJSON()\n    // e.g. https://libraryregistry.librarysimplified.org/libraries\n    // @JsonProperty(\"updated\")\n    // public Updated!: Date;\n    // @JsonProperty(\"id\")\n    // public Id!: string;\n\n    // TODO: not in JSON Schema??\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n    // @JsonProperty(\"epub-type\")\n    // @JsonElementType(String)\n    // public EpubType!: string[];\n\n    // BEGIN IWithAdditionalJSON\n    public AdditionalJSON!: JsonMap;\n    // END IWithAdditionalJSON\n\n    @OnDeserialized()\n    // tslint:disable-next-line:no-unused-variable\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore: TS6133 (is declared but its value is never read.)\n    protected _OnDeserialized() {\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L153\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L50\n        if (!this.Title) {\n            console.log(\"Metadata.Title is not set!\");\n        }\n        // if (!this.Identifier) {\n        //     console.log(\"Metadata.Identifier is not set!\");\n        // }\n    }\n}\n"]}