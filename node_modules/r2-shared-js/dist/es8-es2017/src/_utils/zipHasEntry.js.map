{"version":3,"file":"zipHasEntry.js","sourceRoot":"","sources":["../../../../src/_utils/zipHasEntry.ts"],"names":[],"mappings":";;AAaA,kCA0BC;AAhCD,gCAAgC;AAIhC,MAAM,KAAK,GAAG,MAAM,CAAC,6BAA6B,CAAC,CAAC;AAE7C,KAAK,UAAU,WAAW,CAAC,GAAS,EAAE,OAAe,EAAE,YAAgC;IAC1F,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAEhC,IAAK,GAAW,CAAC,aAAa,EAAE,CAAC;QAC7B,IAAI,CAAC;YAED,GAAG,GAAG,MAAO,GAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACpD,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACrB,CAAC;IACL,CAAC;IACD,IAAI,CAAC,GAAG,IAAI,YAAY,IAAI,YAAY,KAAK,OAAO,EAAE,CAAC;QACnD,KAAK,CAAC,gBAAgB,OAAO,OAAO,YAAY,EAAE,CAAC,CAAC;QAEpD,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QAEjC,IAAK,GAAW,CAAC,aAAa,EAAE,CAAC;YAC7B,IAAI,CAAC;gBAED,GAAG,GAAG,MAAO,GAAW,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;YACzD,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACrB,CAAC;QACL,CAAC;IACL,CAAC;IACD,OAAO,GAAG,CAAC;AACf,CAAC","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\nimport * as debug_ from \"debug\";\n\nimport { IZip } from \"@r2-utils-js/_utils/zip/zip\";\n\nconst debug = debug_(\"r2:shared#utils/zipHasEntry\");\n\nexport async function zipHasEntry(zip: IZip, zipPath: string, zipPathOther: string | undefined): Promise<boolean> {\n    let has = zip.hasEntry(zipPath);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if ((zip as any).hasEntryAsync) { // hacky!!! (HTTP fetch)\n        try {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            has = await (zip as any).hasEntryAsync(zipPath);\n        } catch (err) {\n            console.log(err);\n        }\n    }\n    if (!has && zipPathOther && zipPathOther !== zipPath) {\n        debug(`zipHasEntry: ${zipPath} => ${zipPathOther}`);\n\n        has = zip.hasEntry(zipPathOther);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if ((zip as any).hasEntryAsync) { // hacky!!! (HTTP fetch)\n            try {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                has = await (zip as any).hasEntryAsync(zipPathOther);\n            } catch (err) {\n                console.log(err);\n            }\n        }\n    }\n    return has;\n}\n"]}