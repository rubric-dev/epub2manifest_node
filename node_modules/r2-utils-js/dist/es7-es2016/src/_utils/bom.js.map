{"version":3,"file":"bom.js","sourceRoot":"","sources":["../../../../src/_utils/bom.ts"],"names":[],"mappings":";;AAOA,sCAWC;AAXD,SAAgB,aAAa,CAAC,GAAW;IAOrC,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,CAAC;QAC/B,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACvB,CAAC;IACD,OAAO,GAAG,CAAC;AACf,CAAC","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\nexport function removeUTF8BOM(str: string): string {\n    // UTF-8 BOM removal (EFBBBF)\n    // because Buffer.toString converts to UTF-16 BOM (FEFF)\n    // str.charCodeAt(0) === 0xFEFF || str.charCodeAt(0) === 65279\n    // str = str.substr(1);\n    // str = str.slice(1);\n    // str = str.replace(/^\\uFEFF/gm, \"\").replace(/^\\u00BB\\u00BF/gm,\"\");\n    if (str.charCodeAt(0) === 0xFEFF) {\n        str = str.slice(1);\n    }\n    return str;\n}\n"]}